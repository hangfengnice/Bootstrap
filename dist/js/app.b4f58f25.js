(function(t){function e(e){for(var i,a,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)a=o[u],s[a]&&d.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);f&&f(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var o=n[a];0!==s[o]&&(i=!1)}i&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},a={app:0},s={app:0},r=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-33da13fc":"129a567a"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-33da13fc":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-33da13fc":"ec56a239"}[t]+".css",s=c.p+i,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var l=r[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===s))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===i||u===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||s,r=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=i,delete a[t],f.parentNode.removeChild(f),n(r)},f.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){a[t]=0}));var i=s[t];if(0!==i)if(i)e.push(i[2]);else{var r=new Promise(function(e,n){i=s[t]=[e,n]});e.push(i[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t),l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+i+": "+a+")");r.type=i,r.request=a,n[1](r)}s[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1021:function(t,e,n){},1255:function(t,e,n){"use strict";var i=n("5319"),a=n.n(i);a.a},"151e":function(t,e,n){},1545:function(t,e,n){"use strict";var i=n("213d"),a=n.n(i);a.a},"213d":function(t,e,n){},"32b8":function(t,e,n){},"36ab":function(t,e,n){"use strict";var i=n("794a"),a=n.n(i);a.a},"3db2":function(t,e,n){"use strict";var i=n("3ed7"),a=n.n(i);a.a},"3ed7":function(t,e,n){},"4ac6":function(t,e,n){},"52e7":function(t,e,n){"use strict";var i=n("dcc2"),a=n.n(i);a.a},5319:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{exclude:"Detail"}},[n("router-view")],1)],1)},s=[],r=n("2877"),o={},c=Object(r["a"])(o,a,s,!1,null,"2c27470c",null),l=c.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("HomeHeader"),n("HomeSwiper",{attrs:{list:t.swiperList}}),n("HomeIcons",{attrs:{list:t.iconList}}),n("HomeRecommend",{attrs:{list:t.recommendList}}),n("HomeWeekend",{attrs:{list:t.weekendList}})],1)},f=[],m=n("cebc"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[t._m(0),t._m(1),n("router-link",{attrs:{to:"/city"}},[n("div",{staticClass:"header-right"},[t._v("\n      "+t._s(this.city)+"\n      "),n("i",{staticClass:"iconfont"},[t._v("")])])])],1)},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-left"},[n("div",{staticClass:"iconfont back-icon"},[t._v("")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-input"},[n("i",{staticClass:"iconfont"},[t._v("")]),t._v("\n    输入城市/景点/游玩主题\n  ")])}],v=n("2f62"),g={name:"Header",computed:Object(m["a"])({},Object(v["c"])(["city"]))},y=g,b=(n("1545"),Object(r["a"])(y,p,h,!1,null,"957f3106",null)),w=b.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[t.showSwiper?n("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},[t._l(this.list,function(t){return n("swiper-slide",{key:t.id},[n("img",{staticClass:"swiper-img",attrs:{src:t.imgUrl,alt:""}})])}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1)},C=[],k={name:"HomeSwiper",props:{list:Array},data:function(){return{swiperOption:{pagination:".swiper-pagination",loop:!0}}},computed:{showSwiper:function(){return this.list.length}}},O=k,S=(n("fcb0"),Object(r["a"])(O,_,C,!1,null,"5d0ff448",null)),j=S.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icons"},[n("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},t._l(t.pages,function(e,i){return n("swiper-slide",{key:i},t._l(e,function(e){return n("div",{key:e.id,staticClass:"icon"},[n("div",{staticClass:"icon-img"},[n("img",{staticClass:"icon-imgcontent",attrs:{src:e.imgUrl,alt:""}})]),n("p",{staticClass:"icon-desc"},[t._v(t._s(e.desc))])])}),0)}),1)],1)},I=[],E=(n("ac6a"),{name:"HomeIcons",props:{list:Array},data:function(){return{swiperOption:{autoplay:!1}}},computed:{pages:function(){var t=[];return this.list.forEach(function(e,n){var i=Math.floor(n/8);t[i]||(t[i]=[]),t[i].push(e)}),t}}}),H=E,L=(n("911c"),Object(r["a"])(H,x,I,!1,null,"5017f1c2",null)),A=L.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"recommend-title"},[t._v("热销推荐")]),n("ul",t._l(t.list,function(e){return n("router-link",{key:e.id,staticClass:"item border-bottom",attrs:{tag:"li",to:"/detail"}},[n("img",{staticClass:"item-img",attrs:{src:e.imgUrl,alt:""}}),n("div",{staticClass:"item-info"},[n("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),n("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))]),n("button",{staticClass:"item-button"},[t._v("查看详情")])])])}),1)])},D=[],N={name:"HomeRecommend",props:{list:Array},data:function(){return{}}},G=N,P=(n("dd6a"),Object(r["a"])(G,$,D,!1,null,"a8518fce",null)),T=P.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"recommend-title"},[t._v("周末去哪儿")]),n("ul",t._l(t.list,function(e){return n("li",{key:e.id,staticClass:"item border-bottom"},[n("div",{staticClass:"item-wrapper"},[n("img",{staticClass:"item-img",attrs:{src:e.imgUrl,alt:""}})]),n("div",{staticClass:"item-info"},[n("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),n("p",{staticClass:"item-desc"},[t._v(t._s(e.desc))])])])}),0)])},M=[],U={name:"HomeRecommend",props:{list:Array},data:function(){return{}}},F=U,R=(n("6b6c"),Object(r["a"])(F,B,M,!1,null,"40d9b28b",null)),q=R.exports,J=n("bc3a"),W=n.n(J),K={name:"Home",components:{HomeHeader:w,HomeSwiper:j,HomeIcons:A,HomeRecommend:T,HomeWeekend:q},data:function(){return{lastCity:"",swiperList:[],iconList:[],recommendList:[],weekendList:[]}},computed:Object(m["a"])({},Object(v["c"])(["city"])),methods:{getHomeInfo:function(){W.a.get("/api/mock/index.json?city="+this.city).then(this.getHomeInfoSucc)},getHomeInfoSucc:function(t){if(t=t.data,t.ret&&t.data){var e=t.data;this.swiperList=e.swiperList,this.iconList=e.iconList,this.recommendList=e.recommendList,this.weekendList=e.weekendList}}},mounted:function(){this.lastCity=this.city,this.getHomeInfo()},activated:function(){this.lastCity!==this.city&&(this.lastCity=this.city,this.getHomeInfo())}},z=K,Q=Object(r["a"])(z,d,f,!1,null,"a6e836d8",null),V=Q.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("DetailBanner",{attrs:{sightName:t.sightName,bannerImg:t.bannerImg,gallaryImgs:t.gallaryImgs}}),n("DetailHeader"),n("div",{staticClass:"content"},[n("DetailList",{attrs:{list:t.list}})],1)],1)},Y=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"banner",on:{click:t.handleGallaryClick}},[n("img",{staticClass:"banner-img",attrs:{src:t.bannerImg,alt:""}}),n("div",{staticClass:"banner-info"},[n("div",{staticClass:"banner-title"},[t._v(t._s(this.sightName))]),n("div",{staticClass:"banner-number"},[n("i",{staticClass:"iconfont"},[t._v("")]),t._v("\n        "+t._s(this.gallaryImgs.length)+"\n      ")])])]),n("FadeAnimation",[n("CommonGallary",{directives:[{name:"show",rawName:"v-show",value:t.showGallary,expression:"showGallary"}],attrs:{imgs:t.gallaryImgs},on:{close:t.handleGallaryClose}})],1)],1)},tt=[],et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",on:{click:t.handleGallaryClick}},[n("div",{staticClass:"wrapper"},[n("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},[t._l(t.imgs,function(t,e){return n("swiper-slide",{key:e},[n("img",{staticClass:"gallary-img",attrs:{src:t,alt:""}})])}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])},nt=[],it={name:"CommomGallary",props:{imgs:{type:Array,default:function(){return[]}}},data:function(){return{swiperOptions:{pagination:".swiper-pagination",paginationType:"fraction",observeParents:!0,observer:!0}}},methods:{handleGallaryClick:function(){this.$emit("close")}}},at=it,st=(n("7165"),Object(r["a"])(at,et,nt,!1,null,"5fe73a2e",null)),rt=st.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",[t._t("default")],2)},ct=[],lt={name:"FadeAnimation"},ut=lt,dt=(n("52e7"),Object(r["a"])(ut,ot,ct,!1,null,"036e5925",null)),ft=dt.exports,mt={name:"DetailBanner",components:{CommonGallary:rt,FadeAnimation:ft},props:{sightName:String,bannerImg:String,gallaryImgs:Array},data:function(){return{showGallary:!1}},methods:{handleGallaryClick:function(){this.showGallary=!0},handleGallaryClose:function(){this.showGallary=!1}}},pt=mt,ht=(n("1255"),Object(r["a"])(pt,Z,tt,!1,null,"26b538f4",null)),vt=ht.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-link",{directives:[{name:"show",rawName:"v-show",value:t.showAbs,expression:"showAbs"}],staticClass:"header-abs",attrs:{tag:"div",to:"/"}},[n("div",{staticClass:"iconfont header-abs-back"},[t._v("")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showAbs,expression:"!showAbs"}],staticClass:"header-fixed",style:t.opacityStyle},[n("router-link",{attrs:{to:"/"}},[n("div",{staticClass:"iconfont header-fixed-back"},[t._v("")])]),t._v("景点详情\n  ")],1)],1)},yt=[],bt={name:"DetailHeader",data:function(){return{showAbs:!0,opacityStyle:{opacity:0}}},methods:{handleScroll:function(){var t=document.documentElement.scrollTop;if(t>60){var e=t/140;e=e>1?1:e,this.opacityStyle={opacity:e},this.showAbs=!1}else this.showAbs=!0}},activated:function(){window.addEventListener("scroll",this.handleScroll)},deactivated:function(){window.removeEventListener("scroll",this.handleScroll)}},wt=bt,_t=(n("712f"),Object(r["a"])(wt,gt,yt,!1,null,"5ccb2ab0",null)),Ct=_t.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.list,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"item-title border-bottom"},[n("span",{staticClass:"item-title-icon"}),t._v("\n      "+t._s(e.title)+"\n    ")]),e.children?n("div",{staticClass:"item-children"},[n("DetailList",{attrs:{list:e.children}})],1):t._e()])}),0)},Ot=[],St={name:"DetailList",props:{list:Array}},jt=St,xt=(n("3db2"),Object(r["a"])(jt,kt,Ot,!1,null,"331493d0",null)),It=xt.exports,Et={name:"Detail",components:{DetailBanner:vt,DetailHeader:Ct,DetailList:It},data:function(){return{sightName:"",bannerImg:"",gallaryImgs:[],list:[]}},methods:{getDetailInfo:function(){W.a.get("/api/mock/detail.json").then(this.getInfo)},getInfo:function(t){if(t=t.data,t.ret&&t.data){var e=t.data;this.sightName=e.sightName,this.bannerImg=e.bannerImg,this.gallaryImgs=e.gallaryImgs,this.list=e.categoryList}}},mounted:function(){this.getDetailInfo()}},Ht=Et,Lt=(n("36ab"),Object(r["a"])(Ht,X,Y,!1,null,"d2f4b632",null)),At=Lt.exports;i["a"].use(u["a"]);var $t=new u["a"]({mode:"history",base:"",routes:[{path:"/",name:"home",component:V},{path:"/city",name:"city",component:function(){return n.e("chunk-33da13fc").then(n.bind(null,"b6e9"))}},{path:"/detail",name:"detail",component:At}],scrollBehavior:function(t,e,n){return{x:0,y:0}}}),Dt=n("fe3c"),Nt=n.n(Dt),Gt=n("1f80"),Pt=n.n(Gt),Tt="上海";try{localStorage.city&&(Tt=localStorage.city)}catch(Ft){}var Bt={city:Tt},Mt={changeCity:function(t,e){t.city=e;try{localStorage.city=e}catch(Ft){}}};i["a"].use(v["a"]);var Ut=new v["a"].Store({state:Bt,mutations:Mt});n("1021"),n("bb49"),n("32b8"),n("dfa4");i["a"].use(Pt.a),i["a"].config.productionTip=!1,Nt.a.attach(document.body),new i["a"]({router:$t,store:Ut,render:function(t){return t(l)}}).$mount("#app")},"6b6c":function(t,e,n){"use strict";var i=n("fd5f"),a=n.n(i);a.a},"712f":function(t,e,n){"use strict";var i=n("822d"),a=n.n(i);a.a},7165:function(t,e,n){"use strict";var i=n("151e"),a=n.n(i);a.a},"71ab":function(t,e,n){},"794a":function(t,e,n){},"822d":function(t,e,n){},"911c":function(t,e,n){"use strict";var i=n("b91c"),a=n.n(i);a.a},b91c:function(t,e,n){},bb49:function(t,e,n){},dcc2:function(t,e,n){},dd6a:function(t,e,n){"use strict";var i=n("4ac6"),a=n.n(i);a.a},fcb0:function(t,e,n){"use strict";var i=n("71ab"),a=n.n(i);a.a},fd5f:function(t,e,n){}});
//# sourceMappingURL=app.b4f58f25.js.map